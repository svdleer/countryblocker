# IPdeny Fetcher Configuration
# Copy to /etc/ipdeny/ipdeny.conf and customize

# Output directory for downloaded zone files
OUTPUT_DIR="/var/lib/ipdeny"

# Space-separated list of country codes to fetch
# See: http://www.ipdeny.com/ipblocks/
# Default: Block China, Hong Kong, India, South Korea, Mexico, Pakistan, Russia, Singapore, Taiwan, Vietnam
COUNTRIES="cn hk in kr mx pk ru sg tw vn"

# IPv4 and IPv6 support
FETCH_IPV4="true"
FETCH_IPV6="true"

# Base URLs for ipdeny aggregated data
IPV4_BASE_URL="http://www.ipdeny.com/ipblocks/data/aggregated"
IPV6_BASE_URL="http://www.ipdeny.com/ipv6/ipaddresses/aggregated"

# Logging
LOG_FILE="/var/log/ipdeny-fetch.log"
LOG_LEVEL="INFO"  # DEBUG, INFO, WARNING, ERROR

# ipset configuration
IPSET_ENABLED="true"
IPSET_PREFIX="ipdeny"  # Creates ipsets like: ipdeny-cn-v4, ipdeny-cn-v6

# Automatically flush old ipsets before creating new ones
IPSET_AUTO_FLUSH="true"

# Hash size for ipset (tune based on blocklist size)
IPSET_HASHSIZE="4096"
IPSET_MAXELEM="65536"

# HTTP download settings
HTTP_TIMEOUT="30"        # Timeout in seconds for HTTP requests
HTTP_RETRIES="3"         # Number of retry attempts for failed downloads
HTTP_RETRY_DELAY="5"     # Base delay in seconds between retries (exponential backoff)

# Firewall configuration
FIREWALL_ENABLED="true"
FIREWALL_ACTION="DROP"  # DROP or REJECT
FIREWALL_CHAIN="INPUT"  # INPUT, FORWARD, or custom chain
